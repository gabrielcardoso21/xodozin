# Configuração Nixpacks para Railway - FALLBACK
# Este arquivo é usado APENAS se Root Directory NÃO estiver configurado
# Se Root Directory = 'xodozin', o Railway usa xodozin/nixpacks.toml automaticamente
# 
# IMPORTANTE: Configure Root Directory como 'xodozin' no Railway Dashboard
# para usar a configuração otimizada em xodozin/nixpacks.toml

providers = ["node"]

[variables]
NODE_VERSION = "20"
YARN_CACHE_FOLDER = "/tmp/.yarn-cache"

[phases.setup]
cmds = [
  "echo 'Building Node.js project (fallback - Root Directory não configurado)'",
  "mkdir -p /tmp/.yarn-cache"
]

[phases.install]
cmds = [
  "cd xodozin && yarn install --cache-folder /tmp/.yarn-cache"
]

[phases.build]
cmds = [
  "cd xodozin && yarn build"
]

[start]
cmd = "cd xodozin && yarn start"

