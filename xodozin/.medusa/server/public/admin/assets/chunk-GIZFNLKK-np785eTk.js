import{j as e,r as l,O as N,b as C,C as k,H as p,an as T,a0 as v,L as P,bQ as E,bR as f,bS as S,a1 as A,bT as o,bU as B,Z as z,bV as D,bW as R}from"./index-CxEVKbDQ.js";import{T as U}from"./Trans-BQgT8cqN.js";var b=({data:r})=>{const{t:a}=C(),s=Object.keys(r).length;return e.jsxs(k,{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(p,{level:"h2",children:a("json.header")}),e.jsx(T,{size:"2xsmall",rounded:"full",children:a("json.numberOfKeys",{count:s})})]}),e.jsxs(f,{children:[e.jsx(f.Trigger,{asChild:!0,children:e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-fg-muted hover:text-ui-fg-subtle",children:e.jsx(E,{})})}),e.jsxs(f.Content,{dir:"ltr",className:"bg-ui-contrast-bg-base text-ui-code-fg-subtle !shadow-elevation-commandbar overflow-hidden border border-none max-md:inset-x-2 max-md:max-w-[calc(100%-16px)]",children:[e.jsxs("div",{className:"bg-ui-code-bg-base flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center gap-x-4",children:[e.jsx(f.Title,{asChild:!0,children:e.jsx(p,{className:"text-ui-contrast-fg-primary",children:e.jsx(U,{i18nKey:"json.drawer.header",count:s,components:[e.jsx("span",{className:"text-ui-fg-subtle"},"count-span")]})})}),e.jsx(f.Description,{className:"sr-only",children:a("json.drawer.description")})]}),e.jsxs("div",{className:"flex items-center gap-x-2",children:[e.jsx(S,{className:"bg-ui-contrast-bg-subtle border-ui-contrast-border-base text-ui-contrast-fg-secondary",children:"esc"}),e.jsx(f.Close,{asChild:!0,children:e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-contrast-fg-secondary hover:text-ui-contrast-fg-primary hover:bg-ui-contrast-bg-base-hover active:bg-ui-contrast-bg-base-pressed focus-visible:bg-ui-contrast-bg-base-hover focus-visible:shadow-borders-interactive-with-active",children:e.jsx(A,{})})})]})]}),e.jsx(f.Body,{className:"flex flex-1 flex-col overflow-hidden px-[5px] py-0 pb-[5px]",children:e.jsx("div",{className:"bg-ui-contrast-bg-subtle flex-1 overflow-auto rounded-b-[4px] rounded-t-lg p-3",children:e.jsx(l.Suspense,{fallback:e.jsx("div",{className:"flex size-full flex-col"}),children:e.jsxs(o,{value:r,displayDataTypes:!1,style:{"--w-rjv-font-family":"Roboto Mono, monospace","--w-rjv-line-color":"var(--contrast-border-base)","--w-rjv-curlybraces-color":"var(--contrast-fg-secondary)","--w-rjv-brackets-color":"var(--contrast-fg-secondary)","--w-rjv-key-string":"var(--contrast-fg-primary)","--w-rjv-info-color":"var(--contrast-fg-secondary)","--w-rjv-type-string-color":"var(--tag-green-icon)","--w-rjv-quotes-string-color":"var(--tag-green-icon)","--w-rjv-type-boolean-color":"var(--tag-orange-icon)","--w-rjv-type-int-color":"var(--tag-orange-icon)","--w-rjv-type-float-color":"var(--tag-orange-icon)","--w-rjv-type-bigint-color":"var(--tag-orange-icon)","--w-rjv-key-number":"var(--contrast-fg-secondary)","--w-rjv-arrow-color":"var(--contrast-fg-secondary)","--w-rjv-copied-color":"var(--contrast-fg-secondary)","--w-rjv-copied-success-color":"var(--contrast-fg-primary)","--w-rjv-colon-color":"var(--contrast-fg-primary)","--w-rjv-ellipsis-color":"var(--contrast-fg-secondary)"},collapsed:1,children:[e.jsx(o.Quote,{render:()=>e.jsx("span",{})}),e.jsx(o.Null,{render:()=>e.jsx("span",{className:"text-ui-tag-red-icon",children:"null"})}),e.jsx(o.Undefined,{render:()=>e.jsx("span",{className:"text-ui-tag-blue-icon",children:"undefined"})}),e.jsx(o.CountInfo,{render:(t,{value:n})=>e.jsx("span",{className:"text-ui-contrast-fg-secondary ml-2",children:a("general.items",{count:Object.keys(n).length})})}),e.jsx(o.Arrow,{children:e.jsx(B,{className:"text-ui-contrast-fg-secondary -ml-[0.5px]"})}),e.jsx(o.Colon,{children:e.jsx("span",{className:"mr-1",children:":"})}),e.jsx(o.Copied,{render:({style:t},{value:n})=>e.jsx(V,{style:t,value:n})})]})})})})]})]})]})},V=({style:r,value:a})=>{const[s,t]=l.useState(!1),n=i=>{if(i.stopPropagation(),t(!0),typeof a=="string")navigator.clipboard.writeText(a);else{const m=JSON.stringify(a,null,2);navigator.clipboard.writeText(m)}setTimeout(()=>{t(!1)},2e3)},c={whiteSpace:"nowrap",width:"20px"};return s?e.jsx("span",{style:{...r,...c},children:e.jsx(D,{className:"text-ui-contrast-fg-primary"})}):e.jsx("span",{style:{...r,...c},onClick:n,children:e.jsx(R,{className:"text-ui-contrast-fg-secondary"})})},y=({data:r,href:a="metadata/edit"})=>{const{t:s}=C();if(!r||!("metadata"in r))return null;const t=r.metadata?Object.keys(r.metadata).length:0;return e.jsxs(k,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(p,{level:"h2",children:s("metadata.header")}),e.jsx(T,{size:"2xsmall",rounded:"full",children:s("metadata.numberOfKeys",{count:t})})]}),e.jsx(v,{size:"small",variant:"transparent",className:"text-ui-fg-muted hover:text-ui-fg-subtle",asChild:!0,children:e.jsx(P,{to:a,children:e.jsx(E,{})})})]})},Q=({children:r,widgets:a,data:s,hasOutlet:t=!0,showJSON:n,showMetadata:c})=>{const{before:i,after:m}=a,g={data:s};return n&&!s&&(n=!1),c&&!s&&(c=!1),e.jsxs("div",{className:"flex flex-col gap-y-3",children:[i.map((u,j)=>l.createElement(u,{...g,key:j})),r,m.map((u,j)=>l.createElement(u,{...g,key:j})),c&&e.jsx(y,{data:s}),n&&e.jsx(b,{data:s}),t&&e.jsx(N,{})]})},_=({children:r,widgets:a,data:s,showJSON:t=!1,showMetadata:n=!1,hasOutlet:c=!0})=>{const i={data:s},{before:m,after:g,sideBefore:u,sideAfter:j}=a;t&&!s&&(t=!1),n&&!s&&(n=!1);const h=l.Children.toArray(r);if(h.length!==2)throw new Error("TwoColumnPage expects exactly two children");const[K,O]=h,w=t||n;return e.jsxs("div",{className:"flex w-full flex-col gap-y-3",children:[m.map((x,d)=>l.createElement(x,{...i,key:d})),e.jsxs("div",{className:"flex w-full flex-col items-start gap-x-4 gap-y-3 xl:grid xl:grid-cols-[minmax(0,_1fr)_440px]",children:[e.jsxs("div",{className:"flex w-full min-w-0 flex-col gap-y-3",children:[K,g.map((x,d)=>l.createElement(x,{...i,key:d})),w&&e.jsxs("div",{className:"hidden flex-col gap-y-3 xl:flex",children:[n&&e.jsx(y,{data:s}),t&&e.jsx(b,{data:s})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-y-3 xl:mt-0",children:[u.map((x,d)=>l.createElement(x,{...i,key:d})),O,j.map((x,d)=>l.createElement(x,{...i,key:d})),w&&e.jsxs("div",{className:"flex flex-col gap-y-3 xl:hidden",children:[n&&e.jsx(y,{data:s}),t&&e.jsx(b,{data:s})]})]})]}),c&&e.jsx(N,{})]})},q=({children:r,className:a,...s})=>e.jsx("div",{className:z("flex w-full flex-col gap-y-3",a),...s,children:r}),H=({children:r,className:a,...s})=>e.jsx("div",{className:z("flex w-full max-w-[100%] flex-col gap-y-3 xl:mt-0 xl:max-w-[440px]",a),...s,children:r}),W=Object.assign(_,{Main:q,Sidebar:H});export{b as J,Q as S,W as T};
